<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>BitShade-Pro ‚Äî Private BTC ‚Üí Starknet Bridge</title>
<meta name="description" content="BitShade-Pro: Zero-knowledge private bridge with Merkle proofs, nullifiers & encrypted backups">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#06121a; --panel:#0a1929; --panel-hover:#0d1f33; --muted:#9fb0c6; 
    --accent:#7c5cff; --accent-2:#4f46e5; --accent-glow:rgba(124,92,255,0.25);
    --glass:rgba(255,255,255,0.02); --glass-2:rgba(255,255,255,0.04);
    --card-shadow: 0 8px 32px rgba(2,6,23,0.7), 0 0 0 1px rgba(255,255,255,0.02);
    --ok:#16a34a; --bad:#ef4444; --warning:#f59e0b;
    --gradient-1:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-2:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  }
  *{box-sizing:border-box}
  html,body{height:100%;overflow-x:hidden}
  body{
    font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial;
    margin:0;
    background:radial-gradient(ellipse at top, #0f1f2f 0%, #02121a 50%, #000 100%);
    color:#e6eef8;
    padding:20px;
    line-height:1.45;
    position:relative;
  }
  
  /* Animated background particles */
  .bg-particles{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:0;
    overflow:hidden;
  }
  .particle{
    position:absolute;
    width:2px;
    height:2px;
    background:rgba(124,92,255,0.3);
    border-radius:50%;
    animation:float 20s infinite;
  }
  @keyframes float{
    0%,100%{transform:translateY(0) translateX(0);opacity:0.3}
    50%{transform:translateY(-100vh) translateX(50px);opacity:0.6}
  }
  
  .wrap{max-width:1400px;margin:0 auto;position:relative;z-index:1}
  
  /* Header with glassmorphism */
  header{
    background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    backdrop-filter:blur(20px);
    border:1px solid rgba(255,255,255,0.05);
    border-radius:16px;
    padding:24px;
    margin-bottom:24px;
    box-shadow:0 8px 32px rgba(0,0,0,0.3);
    position:relative;
    overflow:hidden;
  }
  header::before{
    content:'';
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg, transparent, rgba(124,92,255,0.1), transparent);
    animation:shimmer 3s infinite;
  }
  @keyframes shimmer{
    100%{left:100%}
  }
  
  .header-content{display:flex;align-items:center;justify-content:space-between;gap:20px;position:relative;z-index:1}
  .header-left{flex:1}
  h1{
    margin:0 0 8px;
    font-size:32px;
    font-weight:800;
    background:linear-gradient(135deg, #fff 0%, #a78bfa 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    letter-spacing:-0.5px;
  }
  .lead{margin:0 0 8px;color:var(--muted);font-size:14px;line-height:1.6}
  .tech-stack{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    margin-top:12px;
  }
  .tech-badge{
    padding:4px 12px;
    border-radius:999px;
    background:rgba(124,92,255,0.1);
    border:1px solid rgba(124,92,255,0.2);
    font-size:11px;
    font-weight:600;
    color:#a78bfa;
    text-transform:uppercase;
    letter-spacing:0.5px;
  }
  
  .top-stats{display:flex;gap:12px;align-items:stretch}
  .stat{
    background:linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    backdrop-filter:blur(10px);
    border:1px solid rgba(255,255,255,0.05);
    padding:16px;
    border-radius:12px;
    min-width:140px;
    text-align:center;
    transition:all 0.3s ease;
    cursor:pointer;
  }
  .stat:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 24px rgba(124,92,255,0.2);
    border-color:rgba(124,92,255,0.3);
  }
  .stat .small{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}
  .stat .big{
    font-weight:700;
    font-family:'JetBrains Mono',monospace;
    font-size:20px;
    color:#fff;
  }
  .stat .trend{
    font-size:10px;
    color:var(--ok);
    margin-top:4px;
  }
  
  .mode-selector{
    display:flex;
    gap:8px;
    background:rgba(0,0,0,0.3);
    padding:4px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.05);
  }
  .mode-btn{
    background:transparent;
    border:0;
    padding:8px 16px;
    border-radius:8px;
    color:var(--muted);
    cursor:pointer;
    font-weight:600;
    font-size:13px;
    transition:all 0.2s ease;
  }
  .mode-btn.active{
    background:linear-gradient(135deg, var(--accent-2), var(--accent));
    color:#fff;
    box-shadow:0 4px 12px var(--accent-glow);
  }
  
  .grid{display:grid;grid-template-columns:1fr 480px;gap:24px}
  
  .card{
    background:linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    backdrop-filter:blur(10px);
    border:1px solid rgba(255,255,255,0.05);
    border-radius:16px;
    padding:20px;
    box-shadow:var(--card-shadow);
    transition:all 0.3s ease;
    position:relative;
    overflow:hidden;
  }
  .card:hover{
    border-color:rgba(124,92,255,0.2);
    box-shadow:0 12px 48px rgba(2,6,23,0.8), 0 0 0 1px rgba(124,92,255,0.1);
  }
  .card::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:2px;
    background:linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity:0;
    transition:opacity 0.3s ease;
  }
  .card:hover::before{opacity:1}
  
  .card-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
  }
  h3{margin:0;font-size:18px;font-weight:700;color:#fff}
  .card-subtitle{font-size:13px;color:var(--muted);margin-top:4px;line-height:1.5}
  
  button{
    background:linear-gradient(135deg,var(--accent-2),var(--accent));
    border:0;
    color:#fff;
    padding:10px 20px;
    border-radius:10px;
    cursor:pointer;
    font-weight:700;
    font-size:14px;
    transition:all 0.3s ease;
    box-shadow:0 4px 12px rgba(124,92,255,0.3);
    position:relative;
    overflow:hidden;
  }
  button::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    border-radius:50%;
    background:rgba(255,255,255,0.2);
    transform:translate(-50%,-50%);
    transition:width 0.5s ease, height 0.5s ease;
  }
  button:hover::before{width:300px;height:300px}
  button:hover{
    transform:translateY(-2px);
    box-shadow:0 6px 20px rgba(124,92,255,0.4);
  }
  button:active{transform:translateY(0)}
  
  button.ghost{
    background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.1);
    color:var(--muted);
    box-shadow:none;
  }
  button.ghost:hover{
    background:rgba(255,255,255,0.05);
    border-color:rgba(124,92,255,0.3);
    color:#fff;
  }
  
  input,textarea,select{
    width:100%;
    padding:12px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.1);
    background:rgba(0,0,0,0.3);
    color:inherit;
    font-family:inherit;
    font-size:14px;
    transition:all 0.3s ease;
  }
  input:focus,textarea:focus,select:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 0 3px var(--accent-glow);
    background:rgba(0,0,0,0.4);
  }
  
  .mono{font-family:'JetBrains Mono',monospace}
  .small{font-size:13px;color:var(--muted)}
  .tiny{font-size:12px;color:var(--muted)}
  
  /* Merkle Visualizer - Enhanced */
  .merkle-canvas{
    background:linear-gradient(135deg, rgba(124,92,255,0.05), rgba(79,70,229,0.05));
    border:1px solid rgba(124,92,255,0.1);
    padding:20px;
    border-radius:12px;
    position:relative;
  }
  .merkle-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
  }
  .root-display{
    background:linear-gradient(135deg, #667eea, #764ba2);
    padding:16px;
    border-radius:10px;
    margin:12px 0;
    box-shadow:0 8px 24px rgba(102,126,234,0.3);
  }
  .root-label{font-size:10px;text-transform:uppercase;letter-spacing:1px;opacity:0.8;margin-bottom:6px}
  .root-value{
    font-family:'JetBrains Mono',monospace;
    font-size:13px;
    word-break:break-all;
    font-weight:600;
  }
  
  .tree-row{
    display:flex;
    gap:16px;
    align-items:center;
    justify-content:center;
    padding:12px 0;
    position:relative;
  }
  .tree-row::before{
    content:'';
    position:absolute;
    top:50%;
    left:10%;
    right:10%;
    height:1px;
    background:linear-gradient(90deg, transparent, rgba(124,92,255,0.2), transparent);
  }
  
  .node{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    min-width:90px;
    padding:10px 14px;
    border-radius:8px;
    background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.05);
    font-size:11px;
    font-family:'JetBrains Mono',monospace;
    cursor:pointer;
    transition:all 0.3s ease;
    position:relative;
    z-index:1;
  }
  .node:hover{
    transform:scale(1.05);
    box-shadow:0 4px 16px rgba(124,92,255,0.3);
  }
  .node.leaf{
    background:linear-gradient(135deg, #0b2a3a, #08364a);
    border-color:rgba(8,54,74,0.5);
  }
  .node.root{
    background:linear-gradient(135deg, #243bff, #7c5cff);
    font-weight:700;
    box-shadow:0 8px 24px rgba(124,92,255,0.4);
  }
  .node.active{
    box-shadow:0 0 0 3px rgba(124,92,255,0.5), 0 8px 24px rgba(124,92,255,0.4);
    animation:pulse 2s infinite;
  }
  @keyframes pulse{
    0%,100%{box-shadow:0 0 0 3px rgba(124,92,255,0.5)}
    50%{box-shadow:0 0 0 6px rgba(124,92,255,0.3)}
  }
  
  /* Transaction log enhanced */
  .log{
    height:200px;
    overflow:auto;
    background:rgba(0,0,0,0.4);
    padding:12px;
    border-radius:10px;
    font-size:13px;
    border:1px solid rgba(255,255,255,0.05);
  }
  .log::-webkit-scrollbar{width:6px}
  .log::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}
  .log::-webkit-scrollbar-thumb{background:rgba(124,92,255,0.3);border-radius:3px}
  
  .tx-card{
    padding:14px;
    border-radius:10px;
    background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.05);
    margin-bottom:10px;
    transition:all 0.3s ease;
  }
  .tx-card:hover{
    background:linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.03));
    border-color:rgba(124,92,255,0.2);
    transform:translateX(4px);
  }
  
  /* Note cards */
  .note-card{
    padding:12px;
    border-radius:10px;
    background:rgba(0,0,0,0.3);
    border:1px solid rgba(255,255,255,0.05);
    margin-bottom:10px;
    transition:all 0.3s ease;
  }
  .note-card:hover{
    border-color:rgba(124,92,255,0.3);
    background:rgba(124,92,255,0.05);
  }
  
  /* Progress indicators */
  .progress-ring{
    transform:rotate(-90deg);
    margin:0 auto;
  }
  .progress-ring-circle{
    transition:stroke-dashoffset 0.5s ease;
  }
  
  /* Onboarding checklist enhanced */
  .onboard-check{
    display:flex;
    align-items:center;
    gap:12px;
    padding:12px;
    border-radius:10px;
    background:rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.05);
    margin-bottom:10px;
    transition:all 0.3s ease;
  }
  .onboard-check.completed{
    background:rgba(22,163,74,0.1);
    border-color:rgba(22,163,74,0.3);
  }
  .onboard-check:hover{
    border-color:rgba(124,92,255,0.3);
    transform:translateX(4px);
  }
  
  .checkbox-custom{
    width:20px;
    height:20px;
    border-radius:4px;
    border:2px solid rgba(255,255,255,0.2);
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.3s ease;
  }
  .checkbox-custom.checked{
    background:linear-gradient(135deg, var(--accent-2), var(--accent));
    border-color:var(--accent);
  }
  .checkbox-custom.checked::after{
    content:'‚úì';
    color:#fff;
    font-weight:700;
    font-size:12px;
  }
  
  /* Tooltips */
  .tooltip{
    position:relative;
    display:inline-block;
  }
  .tooltip:hover .tooltip-text{
    visibility:visible;
    opacity:1;
  }
  .tooltip-text{
    visibility:hidden;
    opacity:0;
    position:absolute;
    bottom:125%;
    left:50%;
    transform:translateX(-50%);
    background:rgba(0,0,0,0.95);
    color:#fff;
    padding:8px 12px;
    border-radius:8px;
    font-size:12px;
    white-space:nowrap;
    z-index:100;
    transition:opacity 0.3s ease;
    border:1px solid rgba(124,92,255,0.3);
  }
  
  /* Modal improvements */
  .modal-backdrop{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(2,6,23,0.85);
    backdrop-filter:blur(8px);
    align-items:center;
    justify-content:center;
    padding:24px;
    z-index:1000;
    animation:fadeIn 0.3s ease;
  }
  @keyframes fadeIn{
    from{opacity:0}
    to{opacity:1}
  }
  
  .modal-content{
    max-width:700px;
    width:100%;
    background:linear-gradient(135deg, rgba(10,25,41,0.98), rgba(6,18,26,0.98));
    border:1px solid rgba(124,92,255,0.2);
    border-radius:16px;
    padding:24px;
    box-shadow:0 24px 64px rgba(0,0,0,0.5);
    animation:slideUp 0.3s ease;
  }
  @keyframes slideUp{
    from{transform:translateY(20px);opacity:0}
    to{transform:translateY(0);opacity:1}
  }
  
  /* Stats panel */
  .stats-panel{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:12px;
    margin:16px 0;
  }
  .stat-item{
    text-align:center;
    padding:12px;
    background:rgba(0,0,0,0.3);
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.05);
  }
  .stat-value{
    font-size:20px;
    font-weight:700;
    font-family:'JetBrains Mono',monospace;
    color:#fff;
    margin-bottom:4px;
  }
  .stat-label{
    font-size:11px;
    color:var(--muted);
    text-transform:uppercase;
    letter-spacing:0.5px;
  }
  
  footer{
    margin-top:32px;
    padding:24px;
    text-align:center;
    color:var(--muted);
    font-size:13px;
    border-top:1px solid rgba(255,255,255,0.05);
  }
  
  @media (max-width:1200px){ 
    .grid{grid-template-columns:1fr} 
    .header-content{flex-direction:column;align-items:flex-start}
    .top-stats{flex-wrap:wrap}
  }
</style>
</head>
<body>
<div class="bg-particles" id="particles"></div>

<div class="wrap">
  <header>
    <div class="header-content">
      <div class="header-left">
        <h1>üîí BitShade-Pro</h1>
        <p class="lead">
          Zero-knowledge private bridge enabling non-custodial BTC ‚Üí Starknet transfers with cryptographic privacy guarantees. 
          Built with Merkle proofs, nullifier sets, and AES-256-GCM encrypted backups.
        </p>
        <div class="tech-stack">
          <span class="tech-badge">SHA-256 Merkle Trees</span>
          <span class="tech-badge">UTXO Privacy Model</span>
          <span class="tech-badge">Nullifier Registry</span>
          <span class="tech-badge">AES-GCM + PBKDF2</span>
          <span class="tech-badge">Starknet Integration</span>
        </div>
      </div>

      <div style="display:flex;flex-direction:column;gap:16px">
        <div class="top-stats">
          <div class="stat tooltip">
            <div class="small">BTC Balance</div>
            <div class="big mono" id="btcBal">0.500000</div>
            <div class="trend">‚Üó +5.2%</div>
            <span class="tooltip-text">Your on-chain Bitcoin wallet balance</span>
          </div>
          <div class="stat tooltip">
            <div class="small">wSTRK</div>
            <div class="big mono" id="wBal">0.0000</div>
            <div class="trend">‚Äî</div>
            <span class="tooltip-text">Wrapped Starknet tokens (private notes)</span>
          </div>
          <div class="stat tooltip">
            <div class="small">Privacy Pool</div>
            <div class="big mono" id="poolSize">0</div>
            <div class="trend" id="poolTrend">‚Äî</div>
            <span class="tooltip-text">Total notes in anonymity set</span>
          </div>
        </div>
        
        <div class="mode-selector">
          <button class="mode-btn active" id="modeBegin">üéì Beginner</button>
          <button class="mode-btn" id="modeAdv">‚ö° Advanced</button>
        </div>
      </div>
    </div>
  </header>

  <div class="grid">
    <main>
      <!-- Onboarding -->
      <section class="card" style="margin-bottom:20px">
        <div class="card-header">
          <div>
            <h3>üöÄ Quick Start Guide</h3>
            <div class="card-subtitle">Complete your first private transfer. All operations are reversible and auditable.</div>
          </div>
          <button class="ghost" id="btnSkipOnboard">Skip</button>
        </div>

        <div id="onboardChecks"></div>

        <div class="stats-panel" style="margin-top:16px">
          <div class="stat-item">
            <div class="stat-value" id="statsDeposits">0</div>
            <div class="stat-label">Deposits</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="statsWithdraws">0</div>
            <div class="stat-label">Withdrawals</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="statsProofs">0</div>
            <div class="stat-label">Proofs Generated</div>
          </div>
        </div>
      </section>

      <!-- Deposit -->
      <section class="card" style="margin-bottom:20px">
        <div class="card-header">
          <div>
            <h3>üí∞ Deposit ‚Äî Bridge BTC to Starknet</h3>
            <div class="card-subtitle">
              Create privacy-preserving notes using UTXO model. Each note contains: secret (256-bit), leaf hash (SHA-256), amount.
              Bridge provider: <select id="bridgeSelect" style="width:auto;padding:4px 8px;font-size:12px;display:inline">
                <option>Alpen / Glock</option>
                <option>Atomiq</option>
                <option>Garden</option>
              </select>
            </div>
          </div>
        </div>

        <div style="display:flex;gap:12px;align-items:flex-end;margin-bottom:12px">
          <div style="flex:1">
            <label class="small" style="display:block;margin-bottom:6px">Amount (BTC)</label>
            <input id="depositAmount" placeholder="0.01" type="number" step="0.001"/>
          </div>
          <select id="depositPreset" style="flex:0 0 140px">
            <option value="">Quick Select</option>
            <option value="0.01">0.01 BTC</option>
            <option value="0.05">0.05 BTC</option>
            <option value="0.1">0.1 BTC</option>
          </select>
        </div>

        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <button id="btnDeposit">üîê Create Private Note</button>
          <button class="ghost" id="btnBatchDeposit">üì¶ Batch (3√ó0.01)</button>
        </div>

        <div style="margin-top:12px;padding:12px;background:rgba(124,92,255,0.05);border-radius:8px;border:1px solid rgba(124,92,255,0.1)">
          <div class="tiny" style="color:#a78bfa">
            <strong>üî¨ Technical:</strong> Notes generated client-side using Web Crypto API. 
            Secret ‚Üí SHA-256 ‚Üí Merkle leaf. Backup encrypted with AES-256-GCM (200k PBKDF2 iterations).
          </div>
        </div>
      </section>

      <!-- Withdraw -->
      <section class="card" style="margin-bottom:20px">
        <div class="card-header">
          <div>
            <h3>üí∏ Withdraw ‚Äî Spend Private Notes</h3>
            <div class="card-subtitle">
              Generate zero-knowledge proof: Merkle path verification + nullifier emission. 
              Change notes created automatically using same privacy guarantees.
            </div>
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 240px;gap:16px">
          <div>
            <label class="small" style="display:block;margin-bottom:6px">Paste Note (optional)</label>
            <textarea id="noteInput" rows="2" placeholder="secret:leaf:amount"></textarea>
            
            <label class="small" style="display:block;margin:12px 0 6px">Amount (wSTRK)</label>
            <input id="withdrawAmount" placeholder="0.5" type="number" step="0.01"/>
            
            <label class="small" style="display:block;margin:12px 0 6px">Destination Address</label>
            <input id="destAddr" placeholder="0x1234...abcd" value="0xDEADBEEF"/>
            
            <label style="display:flex;align-items:center;gap:8px;margin:12px 0">
              <input type="checkbox" id="checkboxGasless"/>
              <span class="small">‚ö° Use Paymaster (gasless transaction)</span>
            </label>

            <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:16px">
              <button id="btnAutoSelect">üéØ Auto-Select Notes</button>
              <button id="btnWithdraw">‚úÖ Execute Withdrawal</button>
              <button class="ghost" id="btnVerifyProof">üîç Verify Proof</button>
              <button class="ghost" id="btnShowTx">üìÑ Export Proof JSON</button>
            </div>

            <div id="withdrawNote" class="tiny" style="margin-top:12px;color:var(--muted)"></div>
          </div>

          <div>
            <div style="background:rgba(124,92,255,0.1);padding:10px;border-radius:8px;margin-bottom:8px">
              <div class="tiny" style="color:#a78bfa;font-weight:600">SELECTED NOTES</div>
            </div>
            <div id="notesForSelect" style="max-height:220px;overflow:auto;font-size:12px" class="mono
